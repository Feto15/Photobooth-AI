# ========================================
# Photobooth AI - Environment Variables
# ========================================
# Copy this file to .env and fill in your values
# For production, never commit .env file!

# ----------------------------------------
# API Server (apps/api)
# ----------------------------------------

# Server port
PORT=3001

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=1h

# Operator Authentication
# For production, generate hash with: node -e "console.log(require('bcrypt').hashSync('your-password', 10))"
OPERATOR_PASSWORD_HASH=
# Fallback for dev only (will show warning in logs)
OPERATOR_PASSWORD=admin123

# Redis Connection
REDIS_URL=redis://localhost:6379

# Postgres (Neon)
DATABASE_URL=postgresql://user:password@host.neon.tech/dbname?sslmode=require

# S3/MinIO Storage
S3_ENDPOINT=http://localhost:9000
S3_REGION=auto
S3_BUCKET=photobooth
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_FORCE_PATH_STYLE=true

# CORS (comma-separated origins)
CORS_ALLOWED_ORIGINS=http://localhost:5173

# Rate Limiting (requests per minute)
RATE_LIMIT_LOGIN=10
RATE_LIMIT_JOB_CREATE=30

# Upload Configuration
MAX_FILE_SIZE_BYTES=10485760

# Idempotency TTL (seconds)
IDEMPOTENCY_TTL_SECONDS=600

# ----------------------------------------
# Worker (apps/worker)
# ----------------------------------------

# AI Provider Configuration
AI_PROVIDER_DEFAULT=kie
KIE_API_KEY=your-kie-api-key
KIE_API_BASE_URL=https://api.kie.ai/api/v1

# Callback URL (your public API URL for kie.ai to send callbacks)
# Example: https://api.your-domain.com
KIE_CALLBACK_BASE_URL=

# Worker Concurrency
WORKER_CONCURRENCY_KIE=5
WORKER_CONCURRENCY_COMFY=1

# Signed URL TTL for AI provider (seconds)
SIGNED_URL_TTL=3600

# ----------------------------------------
# Frontend (apps/web)
# ----------------------------------------

# API Base URL for frontend
VITE_API_BASE_URL=http://localhost:3000
VITE_EVENT_ID=default-event

# ----------------------------------------
# Docker / Infrastructure
# ----------------------------------------

# MinIO Configuration (for docker-compose)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# Redis Configuration (for docker-compose)
REDIS_PASSWORD=
